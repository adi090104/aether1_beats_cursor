<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√ÜTHER-1 | Ethereal Beat Maker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=VT323&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css?v=6">
</head>
<body>
    <div id="loading-screen">
        <div class="loader-content">
            <div class="loader-logo">√ÜTHER-1</div>
            <div class="loader-bar">
                <div class="loader-fill"></div>
            </div>
            <div class="loader-text">INITIALIZING SOUND ENGINE...</div>
        </div>
    </div>

    <div id="app">
        <canvas id="three-canvas"></canvas>
        
        <div class="interface-overlay">
            <header class="top-bar">
                <div class="logo-section">
                    <span class="logo-icon">‚óà</span>
                    <span class="logo-text">√ÜTHER-1</span>
                    <span class="logo-version">v2.7</span>
                </div>
                <div class="status-section">
                    <div class="status-item">
                        <span class="status-label">BPM</span>
                        <span class="status-value" id="bpm-display">80</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">KEY</span>
                        <span class="status-value" id="key-display">C</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">MODE</span>
                        <span class="status-value" id="mode-display">DREAM</span>
                    </div>
                </div>
                <div class="transport-section">
                    <button class="transport-btn" id="play-btn" title="Play/Pause">
                        <span class="btn-icon">‚ñ∂</span>
                    </button>
                    <button class="transport-btn" id="stop-btn" title="Stop">
                        <span class="btn-icon">‚ñ†</span>
                    </button>
                    <button class="transport-btn" id="record-btn" title="Record">
                        <span class="btn-icon">‚óè</span>
                    </button>
                </div>
            </header>

            <main class="main-content">
                <aside class="left-panel">
                    <div class="panel-section">
                        <h3 class="panel-title">ATMOSPHERE</h3>
                        <div class="knob-group">
                            <div class="knob-container">
                                <div class="knob" id="reverb-knob" data-param="reverb" data-value="50">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="knob-label">REVERB</span>
                            </div>
                            <div class="knob-container">
                                <div class="knob" id="delay-knob" data-param="delay" data-value="30">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="knob-label">DELAY</span>
                            </div>
                            <div class="knob-container">
                                <div class="knob" id="filter-knob" data-param="filter" data-value="70">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="knob-label">FILTER</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="panel-section">
                        <h3 class="panel-title">TEXTURE</h3>
                        <div class="slider-group">
                            <div class="slider-container">
                                <input type="range" class="slider" id="shimmer-slider" min="0" max="100" value="60">
                                <span class="slider-label">SHIMMER</span>
                            </div>
                            <div class="slider-container">
                                <input type="range" class="slider" id="warmth-slider" min="0" max="100" value="45">
                                <span class="slider-label">WARMTH</span>
                            </div>
                            <div class="slider-container">
                                <input type="range" class="slider" id="space-slider" min="0" max="100" value="75">
                                <span class="slider-label">SPACE</span>
                            </div>
                        </div>
                    </div>

                    <div class="panel-section">
                        <h3 class="panel-title">TEMPO</h3>
                        <div class="tempo-control">
                            <button class="tempo-btn" id="tempo-down">‚àí</button>
                            <input type="number" id="tempo-input" value="80" min="40" max="200">
                            <button class="tempo-btn" id="tempo-up">+</button>
                        </div>
                    </div>
                </aside>

                <section class="center-panel">
                    <div class="sequencer-section">
                        <div class="sequencer-header">
                            <span class="seq-title">SEQUENCE MATRIX</span>
                            <div class="seq-controls">
                                <button class="seq-btn" id="clear-seq">CLEAR</button>
                                <button class="seq-btn" id="random-seq">RANDOM</button>
                            </div>
                        </div>
                        <div class="sequencer-grid" id="sequencer">
                            <!-- Generated by JS -->
                        </div>
                        <div class="step-indicators" id="step-indicators">
                            <!-- Generated by JS -->
                        </div>
                    </div>

                    <div class="fx-section">
                        <div class="fx-header">
                            <span class="fx-title">SOUND FX</span>
                            <div class="fx-category-selector">
                                <button class="fx-cat-btn active" data-category="choirs">üïä CHOIRS</button>
                                <button class="fx-cat-btn" data-category="adrenaline">‚ö° ADRENALINE</button>
                                <button class="fx-cat-btn" data-category="atmosphere">üåå ATMOS</button>
                                <button class="fx-cat-btn" data-category="impacts">üî• IMPACTS</button>
                                <button class="fx-cat-btn" data-category="synths">üß† SYNTHS</button>
                            </div>
                        </div>
                        <div class="fx-grid" id="fx-pads">
                            <!-- Generated by JS -->
                        </div>
                    </div>
                </section>

                <aside class="right-panel">
                    <div class="panel-section visualizer-section">
                        <h3 class="panel-title">WAVEFORM</h3>
                        <canvas id="visualizer" width="200" height="120"></canvas>
                    </div>
                    
                    <div class="panel-section">
                        <h3 class="panel-title">VOICE</h3>
                        <div class="voice-selector expanded">
                            <button class="voice-btn active" data-voice="pad">PAD</button>
                            <button class="voice-btn" data-voice="dream">DREAM</button>
                            <button class="voice-btn" data-voice="bell">BELL</button>
                            <button class="voice-btn" data-voice="glass">GLASS</button>
                            <button class="voice-btn" data-voice="choir">CHOIR</button>
                            <button class="voice-btn" data-voice="vox">VOX</button>
                            <button class="voice-btn" data-voice="soul">SOUL</button>
                            <button class="voice-btn" data-voice="gospel">GOSPEL</button>
                        </div>
                    </div>

                    <div class="panel-section">
                        <h3 class="panel-title">ENVELOPE</h3>
                        <div class="envelope-visual" id="envelope-visual">
                            <svg viewBox="0 0 100 50" class="envelope-svg">
                                <path id="envelope-path" d="M0,50 L10,10 L30,20 L70,20 L100,50" fill="none" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                        <div class="envelope-controls">
                            <div class="env-knob-container">
                                <div class="mini-knob" id="attack-knob" data-param="attack" data-value="30">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="env-label">A</span>
                            </div>
                            <div class="env-knob-container">
                                <div class="mini-knob" id="decay-knob" data-param="decay" data-value="40">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="env-label">D</span>
                            </div>
                            <div class="env-knob-container">
                                <div class="mini-knob" id="sustain-knob" data-param="sustain" data-value="70">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="env-label">S</span>
                            </div>
                            <div class="env-knob-container">
                                <div class="mini-knob" id="release-knob" data-param="release" data-value="80">
                                    <div class="knob-indicator"></div>
                                </div>
                                <span class="env-label">R</span>
                            </div>
                        </div>
                    </div>

                    <div class="panel-section">
                        <h3 class="panel-title">MASTER</h3>
                        <div class="master-control">
                            <div class="volume-meter">
                                <div class="meter-fill" id="meter-left"></div>
                            </div>
                            <div class="volume-meter">
                                <div class="meter-fill" id="meter-right"></div>
                            </div>
                        </div>
                        <div class="master-knob-container">
                            <div class="knob large" id="master-knob" data-param="master" data-value="75">
                                <div class="knob-indicator"></div>
                            </div>
                            <span class="knob-label">VOLUME</span>
                        </div>
                    </div>
                </aside>
            </main>

            <footer class="bottom-bar">
                <div class="keyboard-hint">
                    <span class="hint-key">1-8</span> FX
                    <span class="hint-key">ESC</span> Stop All
                    <span class="hint-key">SPACE</span> Play
                </div>
                <div class="screen-display">
                    <span id="display-text">READY TO CREATE</span>
                </div>
                <div class="credits">
                    <span>√ÜTHER INSTRUMENTS ¬© 2026</span>
                </div>
            </footer>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="audio-engine.js?v=8"></script>
    <script src="three-scene.js?v=8"></script>
    <script src="app.js?v=8"></script>
</body>
</html>

